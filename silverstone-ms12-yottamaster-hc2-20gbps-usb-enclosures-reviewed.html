<!doctype html><html lang=en><head><meta charset=utf-8><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=referrer content="no-referrer"><meta name=description content="The evaluation routine for direct-attached storage devices  portable SSDs, storage bridges (including RAID enclosures), and memory cards  all utilize the same testbed and have similar workloads with slight tweaks based on the end market for the product. Our testbeds have kept pace with the introduction of new external interfaces - Thunderbolt 2, Thunderbolt"><meta name=robots content="index,follow,noarchive"><link href="https://fonts.googleapis.com/css?family=Open+Sans:400|Old+Standard+TT:400&display=swap" rel=stylesheet media=print type=text/css onload='this.media="all"'><title>The 2021 AnandTech DAS Testbed and Test Suite</title><link rel=canonical href=./silverstone-ms12-yottamaster-hc2-20gbps-usb-enclosures-reviewed.html><style>*{border:0;font:inherit;font-size:100%;vertical-align:baseline;margin:0;padding:0;color:#000;text-decoration-skip:ink}body{font-family:open sans,myriad pro,Myriad,sans-serif;font-size:17px;line-height:160%;color:#1d1313;max-width:700px;margin:auto}p{margin:20px 0}a img{border:none}img{margin:10px auto;max-width:100%;display:block}.left-justify{float:left}.right-justify{float:right}pre,code{font:12px Consolas,liberation mono,Menlo,Courier,monospace;background-color:#f7f7f7}code{font-size:12px;padding:4px}pre{margin-top:0;margin-bottom:16px;word-wrap:normal;padding:16px;overflow:auto;font-size:85%;line-height:1.45}pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:0 0;border:0}pre code{display:inline;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}pre code::before,pre code::after{content:normal}em,q,em,dfn{font-style:italic}.sans,html .gist .gist-file .gist-meta{font-family:open sans,myriad pro,Myriad,sans-serif}.mono,pre,code,tt,p code,li code{font-family:Menlo,Monaco,andale mono,lucida console,courier new,monospace}.heading,.serif,h1,h2,h3{font-family:old standard tt,serif}strong{font-weight:600}q:before{content:"\201C"}q:after{content:"\201D"}del,s{text-decoration:line-through}blockquote{font-family:old standard tt,serif;text-align:center;padding:50px}blockquote p{display:inline-block;font-style:italic}blockquote:before,blockquote:after{font-family:old standard tt,serif;content:'\201C';font-size:35px;color:#403c3b}blockquote:after{content:'\201D'}hr{width:40%;height:1px;background:#403c3b;margin:25px auto}h1{font-size:35px}h2{font-size:28px}h3{font-size:22px;margin-top:18px}h1 a,h2 a,h3 a{text-decoration:none}h1,h2{margin-top:28px}#sub-header,.date{color:#403c3b;font-size:13px}#sub-header{margin:0 4px}#nav h1 a{font-size:35px;color:#1d1313;line-height:120%}.posts_listing a,#nav a{text-decoration:none}li{margin-left:20px}ul li{margin-left:5px}ul li{list-style-type:none}ul li:before{content:"\00BB \0020"}#nav ul li:before,.posts_listing li:before{content:'';margin-right:0}#content{text-align:left;width:100%;font-size:15px;padding:60px 0 80px}#content h1,#content h2{margin-bottom:5px}#content h2{font-size:25px}#content .entry-content{margin-top:15px}#content .date{margin-left:3px}#content h1{font-size:30px}.highlight{margin:10px 0}.posts_listing{margin:0 0 50px}.posts_listing li{margin:0 0 25px 15px}.posts_listing li a:hover,#nav a:hover{text-decoration:underline}#nav{text-align:center;position:static;margin-top:60px}#nav ul{display:table;margin:8px auto 0}#nav li{list-style-type:none;display:table-cell;font-size:15px;padding:0 20px}#links{display:flex;justify-content:space-between;margin:50px 0 0}#links :nth-child(1){margin-right:.5em}#links :nth-child(2){margin-left:.5em}#not-found{text-align:center}#not-found a{font-family:old standard tt,serif;font-size:200px;text-decoration:none;display:inline-block;padding-top:225px}@media(max-width:750px){body{padding-left:20px;padding-right:20px}#nav h1 a{font-size:28px}#nav li{font-size:13px;padding:0 15px}#content{margin-top:0;padding-top:50px;font-size:14px}#content h1{font-size:25px}#content h2{font-size:22px}.posts_listing li div{font-size:12px}}@media(max-width:400px){body{padding-left:20px;padding-right:20px}#nav h1 a{font-size:22px}#nav li{font-size:12px;padding:0 10px}#content{margin-top:0;padding-top:20px;font-size:12px}#content h1{font-size:20px}#content h2{font-size:18px}.posts_listing li div{font-size:12px}}@media(prefers-color-scheme:dark){*,#nav h1 a{color:#fdfdfd}body{background:#121212}pre,code{background-color:#262626}#sub-header,.date{color:#bababa}hr{background:#ebebeb}}</style></head><body><section id=nav><h1><a href=./index.html>DazeBlog</a></h1><ul><li><a href=./index.xml>Rss</a></li><li><a href=./sitemap.xml>Sitemap</a></li></ul></section><section id=content><h1>The 2021 AnandTech DAS Testbed and Test Suite</h1><div id=sub-header>August 2024 · 6 minute read</div><div class=entry-content><p>The evaluation routine for direct-attached storage devices – portable SSDs, storage bridges (including RAID enclosures), and memory cards – all utilize the same testbed and have similar workloads with slight tweaks based on the end market for the product. Our testbeds have kept pace with the introduction of new external interfaces - Thunderbolt 2, Thunderbolt 3, and USB 3.2 Gen 2 via Type-C. In mid-2014, we <a href=#>prepared</a> a custom desktop based on Haswell, which was then <a href=#>upgraded</a> to Skylake in early 2016. A botched Thunderbolt 3 firmware upgrade on the Skylake machine meant that we had to shift to the Hades Canyon NUC <a href=#>starting in early 2019</a>. With USB 3.2 Gen 2x2 gaining traction, the inability to use an add-in card in the Hades Canyon NUC meant that we had to go hunting for a new DAS testbed platform.</p><p>I/O ports on PCs are enabled by one or more of the following approaches:</p><ul><li>Direct interface from the SoC / CPU</li><li>Direct interface from the Platform Controller Hub (PCH) - either part of the package, or, discrete</li><li>External bridge chip interfacing between one of the direct interfaces above or other available high-speed I/O lanes and the relevant I/O port</li></ul><p>The first option is the preferred one, followed by an external bridge chip that connects to the high-speed I/O lanes directly from the SoC / processor. Connecting via the PCH is the least preferred, as it can introduce DMI bottlenecks as the data shuttles between the processor and the PCH. In almost all Thunderbolt 3 platforms prior to Ice Lake, the OEMs ended up connecting the Thunderbolt controller to the PCH's PCIe lanes. One of the requirements for the new testbed, therefore, was to ensure that we had PCIe lanes off the processor exposed via multiple slots in a compact package (as similar to the previous testbed - the Hades Canyon NUC - as possible).</p><h3>The 2021 AnandTech DAS Testbed</h3><p>After considering various options in the market, we figured out that the Quartz Canyon NUC (essentially, the Xeon / ECC version of the <a href=#>Ghost Canyon NUC</a>) was a good fit for our requirements. Intel provided us with a sample of the Quartz Canyon NUC, and ADATA helpfully sponsored <a href=#>2x 16GB DDR4-3200 ECC SODIMMs</a> and a PCIe 3.0 x4 NVMe SSD - the <a href=#>IM2P33E8 1TB</a>.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/16798/pic-of-testbed_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>The most attractive aspect of the Quartz Canyon NUC is the presence of two PCIe slots (electrically, x16 and x4) for add-in cards. In the absence of a discrete GPU - for which there is no need in a DAS testbed - both slots are available. In fact, we also added a spare SanDisk Extreme PRO M.2 NVMe SSD to the CPU direct-attached M.2 22110 slot in the baseboard in order to avoid DMI bottlenecks when evaluating Thunderbolt 3 devices. This still allows for two add-in cards operating at x8 (x16 electrical) and x4 (x4 electrical).</p><p>One of the issues with the Yottamaster PCIe AIC used in our previous USB 3.2 Gen 2x2 review was the need for a SATA power connector. SilverStone provided their <a href=#>SST-ECU06</a> add-in card based on the ASMedia ASM3242 host controller for use in the testbed.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/16798/testbed-w-aic_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>The specifications of the testbed are summarized in the table below:</p><table align=center border=1 cellpadding=0 cellspacing=0 width=100%><tbody readability=9><tr class=tlblue readability=2><td colspan=2>AnandTech DAS Testbed Configuration</td></tr><tr readability=2><td>System</td><td>Intel Quartz Canyon NUC9vXQNX</td></tr><tr><td>CPU</td><td>Intel Xeon E-2286M</td></tr><tr readability=2><td>Memory</td><td>ADATA Industrial AD4B3200716G22<br>32 GB (2x 16GB)<br>DDR4-3200 ECC @ 22-22-22-52</td></tr><tr readability=2><td>OS Drive</td><td>ADATA Industrial IM2P33E8 NVMe 1TB</td></tr><tr readability=2><td>Secondary Drive</td><td>SanDisk Extreme PRO M.2 NVMe 3D SSD 1TB</td></tr><tr readability=2><td>Add-on Card</td><td>SilverStone SST-ECU06 USB 3.2 Gen 2x2 Type-C Host</td></tr><tr readability=2><td>OS</td><td>Windows 10 Enterprise x64 (21H1)</td></tr><tr readability=4><td colspan=2><strong>Thanks to ADATA, Intel, and SilverStone for the build components</strong></td></tr></tbody></table><p>The bus configuration of the testbed is brought out in the annotated picture below.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/16798/das-tb-2021-struct-anno_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>External I/O devices are capped at 40Gbps for the near future, with USB4 products just starting to appear in the market. The USB 3.x products top out at 20Gbps (for the Gen 2x2 variant), and all incoming products belonging to the USB 3.x category are evaluated using the Type-C host port enabled by the SilverStone SST-ECU06 add-in card. For Thunderbolt 3 devices, the Type-C port enabled by the Titan Ridge controller is used.</p><p>The plans for the new testbed were set in motion late last year, and our hope was that an add-in card with Thunderbolt 4 / USB4 support would become ready by the time Thunderbolt 4 / USB4 peripherals started rolling in. A system based on Tiger Lake such as the Beast Canyon NUC (with processor-attached Thunderbolt 4 / USB4 ports and spare PCIe slots for a USB 3.2 Gen 2x2 AiC) would have been an ideal single system capable of evaluating all types of direct-attached storage devices. Unfortunately, the Beast Canyon NUC was a long way off when we started planning for this testbed. When the USB4 / Thunderbolt 4 peripherals start to come in, our plan is to evaluate them using the Titan Ridge host as well as the Thunderbolt 4 ports off one of the Tiger Lake mini-PCs to figure out the performance differences. In the worst case, we might end up using a different testbed for Thunderbolt 4 / USB4 devices.</p><h3>The 2021 AnandTech DAS Suite</h3><p>The testbed hardware is only one segment of the evaluation. Over the last few years, the typical direct-attached storage workloads have also evolved. High bit-rate 4K videos at 60fps have become quite common, and 8K videos are starting to make an appearance. Game install sizes have also grown steadily, thanks to high resolution textures and artwork. Backups tend to involve larger number of files, many of which are small in size. The vendors have also appropriately responded, with 4TB bus-powered units already available in the market. Keeping these in mind, we have adopted some tweaks to our evaluation methodology.</p><p>The evaluation scheme for DAS units involves multiple workloads which are described in detail in the corresponding sections.</p><ul><li>Synthetic workloads using CrystalDiskMark and ATTO</li><li>Real-world access traces using PCMark 10's storage benchmark</li><li>Custom robocopy workloads reflective of typical DAS usage</li><li>Sequential write stress test</li></ul><p>The new test suite makes the following updates:</p><ul><li>Updated CrystalDiskMark software version to 8.0.2 from 7.0.0</li><li>Increased ATTO file size from 8 GB to 32 GB</li><li>Increased CrystalDiskMark workload span from 8GiB to 32GiB</li><li>Restructured customm robocopy workloads, with multi-threaded copying enabled</li><li>Temperature tracking enabled during all idling intervals</li></ul><p>The major update is in our custom robocopy workloads - the earlier version transferred around 42GB of data back and forth from the DAS over each of three iteration sets for a total of around 250GB of traffic. The new version ups this to around 95GB per iteration direction for a total of around 570GB of traffic.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/16798/TLView_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>The robocopy workloads have typically transferred data between the DAS and a RAM drive to remove any bottlenecks from the testbed's storage subsystem. In the new test suite version, we also include a disk-to-disk iteration set where the whole suite (around 318GB) is transferred from the CPU-attached NVMe SSD to the DAS and back. One of the interesting aspects discovered while developing the new workloads was that the high-speed DAS units were woefully under-utilized when subject to transfers using default robocopy parameters. Using the /MT:32 parameter helps queue up more traffic to the DAS and make optimal use of the capabilities of NVMe SSDs. A downside is the increased CPU usage compared to the non-multi-threaded copies, but that is rarely a concern even for processors operating in the 15 - 28W TDP envelop. Practically speaking, the ability to use the MT option effectively depends on how busy the host system is with other tasks taxing the CPU.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7orrAp5utnZOde6S7zGiqoaenZH53g5hxZqyhnKuys7%2FTqKWeZZ2ofnN52KirrZmdlsC1sdFmn5xqXWd9qK7PrGSuq5Jisq%2Bvy6iqrqqVqHqzsdWinLCdlGR%2F</p></div><div id=links><a href=./what-happened-to-dan-haren.html>&#171;&nbsp;What happened to Dan Haren?</a>
<a href=./should-you-try-the-good-knees-tiktok-challenge.html>Should you try the good knees TikTok challenge?&nbsp;&#187;</a></div></section><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>